<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>任务创建</title>
    <link rel="stylesheet" href="../css/createdTask.css" />
    <link rel="stylesheet" href="../css/style.css" />
    <script src="../js/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="http://www.jq22.com/jquery/bootstrap-3.3.4.css">
    <script src="../js/bootstrap.min.js"></script>

    <link href="../css/bootstrap-select.css" rel="stylesheet">
    <script src="../js/bootstrap-select.js"></script>
    <script>
        function submit(){
            window.location.href="upload.html";
        }
    </script>
    
    <script type="text/javascript">

        init();

        function init() {
            //
            initInfo();
        }

        function loadInfo() {

            // 接口获取数据
            // $.ajax({
            //     type: "get",
            //     url: "http://localhost:8000/data/orange_info/",
            //     // xhrFields: {withCredentials: true},
            //     success: function (data) {
            //
            //         var area = document.getElementById("id_select");
            //         area.options.length = 0;
            //         result = "";
            //
            //         if (data.status === 0) {
            //             result = data.data;
            //             for (var item in result) {
            //                 area.options.add(new Option(result[item], result[item]));
            //             }
            //             $('.selectpicker').selectpicker('refresh');
            //             // $('.selectpicker').selectpicker('render');
            //         } else {
            //             controls.log(data)
            //         }
            //     }
            // });

            // 默认数据
            var area = document.getElementById("id_select");
            area.options.length = 0;
            result = {
                "1": "对象1",
                "2": "对象2",
                "3": "对象3",
                "4": "对象4"
            };
            for (var item in result) {
                area.options.add(new Option(result[item], result[item]));
            }

            $('.selectpicker').selectpicker('refresh');
        }

        function initInfo() {
            $(window).on('load', function () {

                $('.selectpicker').selectpicker({
                    // 'selectedText': 'cat',
                    noneSelectedText: '请选择',
                    noneResultsText: '没有找到匹配的组织 {0}'
                });

                loadInfo();

                $("#showInfo").unbind("click").click(function () {
                    $('.selectpicker').selectpicker('show');
                });

                $("#hideInfo").unbind("click").click(function () {
                    $('.selectpicker').selectpicker('hide');
                });

                $("#chooseText").unbind("click").click(function () {
                    var info = $('#id_select').selectpicker('val');

                    var label = document.getElementById("labelInfo");
                    label.innerHTML = info;
                    console.log(info)
                });

            });
        }

    </script>
</head>
<body>
    <div class="head-div">
        <p><a href="index.html" class="leftback"><img src="../img/leftback2.svg"/></a>任务创建</p>
        <img class="log" src="../img/autoLogo-dark.svg" />
    </div>
    <div class="body-div">
        <p>任务名称<input type="text" placeholder="请输入任务名称" /></p>
        <p>所属类型<input type="text" placeholder="请选择" class="min-input" id="type" readonly="readonly"/><img src="../img/rightback3.svg" class="rightback" /></p>
        <p>开始时间<input type="date" value="2020-05-30" /></p>
        <p>截止时间<input type="date" value="2020-06-30" /></p>
        <!-- <p>发布对象<input type="text" placeholder="请选择" class="min-input" id="release" readonly="readonly"/><img src="../img/rightback3.svg" class="rightback" /></p> -->
        <p>发布对象
            <select id="id_select" class="selectpicker" multiple data-width="200px">
            </select>
        </p>
        <p>任务详情：<br>
            <textarea placeholder="请输入任务详情"></textarea>
        </p>
        <div class="button-div">
            <button onclick="submit()">确认上传</button>
        </div>
    </div>
    <!--选择弹层-->
    <section id="showLayer" class="express-show-box">
        <article id="showBox">
            <ul id="showList" class="show-list"></ul>
        </article>
    </section>
    <!--幕布-->
    <div id="showMask" class="mask"></div>
    <script src="../js/jquery.show.js"></script>
</body>
</html>